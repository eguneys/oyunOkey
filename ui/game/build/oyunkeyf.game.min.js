!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.OyunkeyfGame=e()}}(function(){return function(){function e(t,r,n){function i(a,o){if(!r[a]){if(!t[a]){var f="function"==typeof require&&require;if(!o&&f)return f(a,!0);if(u)return u(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[a]={exports:{}};t[a][0].call(d.exports,function(e){var r=t[a][1][e];return i(r||e)},d,d.exports,e,t,r,n)}return r[a].exports}for(var u="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}return e}()({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.game.status.id<s["default"].ids.aborted}function u(e){return i(e)&&!e.player.spectator}function a(e){return u(e)&&e.game.player===e.player.side}function o(e,t){return["player","opponentLeft","opponentRight","opponentUp"].map(function(t){return e[t]}).filter(function(e){return e.side===t})[0]}function f(e){return l[e%4]}function c(e,t,r){var n=o(e,t);n.onGame=r}var d=e("./status"),s=n(d),l=["east","north","west","south"];t.exports={isPlayerPlaying:u,isPlayerTurn:a,getPlayer:o,sideByPly:f,playable:i,setOnGame:c}},{"./status":3}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=e("./game"),u=n(i),a=e("./status"),o=n(a),f=e("./uci"),c=n(f);t.exports={game:u["default"],status:o["default"],uci:c["default"]}},{"./game":1,"./status":3,"./uci":4}],3:[function(e,t,r){"use strict";function n(e){return e.game.status.id>=o.started}function i(e){return e.game.status.id>=o.middleEnd}function u(e){return e.game.status.id===o.aborted}function a(e){return n(e)&&!i(e)&&!u(e)}var o={created:10,started:20,aborted:25,middleEnd:30,normalEnd:40,variantEnd:70};t.exports={ids:o,started:n,finished:i,aborted:u,playing:a}},{}],4:[function(e,t,r){"use strict";function n(e){if(2===e.length){var t=e.match(l),r=c(t,2),n=(r[0],r[1]);return[d[n]]}}function i(e,t){var r=e.match(p);if(r){var n=c(r,4),i=(n[0],n[1]),u=n[2],a=n[3];if("P"===u){var o="dm"===i?"p":"";return[d[i+o],t(a)]}}}function u(e){var t=e.match(m);if(t){var r=c(t,4),n=(r[0],r[1]),i=r[2],u=r[3];if("G"===i){var a=u.match(s),o=a.length/2,f=a.map(function(e){return parseInt(e.match(/\d\d?/)[0])}).reduce(function(e,t){return e+t}),l="os"===n?f:o;return[d[n],l,u]}}}function a(e,t){var r=e.match(v);if(r){var n=c(r,6),i=(n[0],n[1]),u=n[2],a=n[3],o=n[4],f=n[5];if("P"===u&&"@"===o){var s="p"===f[0]?"p":"";return[d[i+s],t(a)]}}}function o(e,t){var r={r:"red",b:"blue",l:"black",g:"green"};return e(r[t[0]],t.slice(1))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,r=o.bind(null,t);r=function(e){return e};var n=g.find(function(t){return t(e,r)});if(n)return n(e,r)}var c=function(){function e(e,t){var r=[],n=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(f){i=!0,u=f}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d={dm:"uciDrawMiddle",dd:"uciDiscard",co:"uciCollectOpen",lt:"uciLeaveTaken",dl:"uciDrawLeft",os:"uciOpenSeries",op:"uciOpenPairs",dos:"uciDropOpenSeries",dop:"uciDropOpenPairs",dosp:"uciDropOpenSeriesReplace",dopp:"uciDropOpenPairsReplace",dmp:"uciDrawMiddlePiece"},s=/[f|r|l|b|g]\d\d?/g,l=/^([a-z]{2})$/,p=/^([a-z]{2})(P)(.*)$/,m=/^([a-z]{2})(G)(.*)$/,v=/^(dop|dos)(P)([f|r|l|b|g]\d\d?)(@)(.*)$/,y=function(e,t){return e+" "+t},g=[n,i,u,a];t.exports={transKey:f}},{}]},{},[2])(2)});