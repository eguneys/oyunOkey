!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.OyunkeyfGame=e()}}(function(){return function(){function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(u)return u(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return i(n||e)},d,d.exports,e,t,n,r)}return n[o].exports}for(var u="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.game.status.id<v["default"].ids.aborted}function u(e){return i(e)&&!e.player.spectator}function o(e){return u(e)&&e.game.player===e.player.side}function a(e){return d(e.game.turns)}function f(e){var t=a(e);return["player","opponentLeft","opponentRight","opponentUp"].filter(function(n){return e[n].side===t})[0]}function c(e,t){return["player","opponentLeft","opponentRight","opponentUp"].map(function(t){return e[t]}).filter(function(e){return e.side===t})[0]}function d(e){return m[e%4]}function s(e,t,n){var r=c(e,t);r.onGame=n}function l(e,t,n){var r=c(e,t);n=n&&!r.ai,r.isGone=n}var p=e("./status"),v=r(p),m=["east","north","west","south"];t.exports={isPlayerPlaying:u,isPlayerTurn:o,getPlayer:c,sideByPly:d,playable:i,setOnGame:s,setIsGone:l,getTurnPov:f}},{"./status":3}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=e("./game"),u=r(i),o=e("./status"),a=r(o),f=e("./uci"),c=r(f);t.exports={game:u["default"],status:a["default"],uci:c["default"]}},{"./game":1,"./status":3,"./uci":4}],3:[function(e,t,n){"use strict";function r(e){return e.game.status.id>=a.started}function i(e){return e.game.status.id>=a.middleEnd}function u(e){return e.game.status.id===a.aborted}function o(e){return r(e)&&!i(e)&&!u(e)}var a={created:10,started:20,aborted:25,middleEnd:30,normalEnd:40,variantEnd:70};t.exports={ids:a,started:r,finished:i,aborted:u,playing:o}},{}],4:[function(e,t,n){"use strict";function r(e){if(2===e.length){var t=e.match(l),n=c(t,2),r=(n[0],n[1]);return[d[r]]}}function i(e,t){var n=e.match(p);if(n){var r=c(n,4),i=(r[0],r[1]),u=r[2],o=r[3];if("P"===u){var a="dm"===i?"p":"";return[d[i+a],t(o)]}}}function u(e){var t=e.match(v);if(t){var n=c(t,4),r=(n[0],n[1]),i=n[2],u=n[3];if("G"===i){var o=u.match(s),a=o.length/2,f=o.map(function(e){return parseInt(e.match(/\d\d?/)[0])}).reduce(function(e,t){return e+t}),l="os"===r?f:a;return[d[r],l,u]}}}function o(e,t){var n=e.match(m);if(n){var r=c(n,6),i=(r[0],r[1]),u=r[2],o=r[3],a=r[4],f=r[5];if("P"===u&&"@"===a){var s="p"===f[0]?"p":"";return[d[i+s],t(o)]}}}function a(e,t){var n={r:"red",b:"blue",l:"black",g:"green"};return e(n[t[0]],t.slice(1))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=a.bind(null,t);n=function(e){return e};var r=g.find(function(t){return t(e,n)});if(r)return r(e,n)}var c=function(){function e(e,t){var n=[],r=!0,i=!1,u=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(f){i=!0,u=f}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d={dm:"uciDrawMiddle",dd:"uciDiscard",co:"uciCollectOpen",lt:"uciLeaveTaken",dl:"uciDrawLeft",os:"uciOpenSeries",op:"uciOpenPairs",dos:"uciDropOpenSeries",dop:"uciDropOpenPairs",dosp:"uciDropOpenSeriesReplace",dopp:"uciDropOpenPairsReplace",dmp:"uciDrawMiddlePiece"},s=/[f|r|l|b|g]\d\d?/g,l=/^([a-z]{2})$/,p=/^([a-z]{2})(P)(.*)$/,v=/^([a-z]{2})(G)(.*)$/,m=/^(dop|dos)(P)([f|r|l|b|g]\d\d?)(@)(.*)$/,y=function(e,t){return e+" "+t},g=[r,i,u,o];t.exports={transKey:f}},{}]},{},[2])(2)});